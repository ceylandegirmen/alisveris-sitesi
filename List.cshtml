@model IEnumerable<VegHouse.Models.Product>

@{
    ViewData["Title"] = "List";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var x3 = (List<Product>)ViewBag.ProductList;
    var x2 = ViewBag.CategoryId;
}

   <main>



            <section class="product__area pt-60 pb-100">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="section__title-wrapper text-center mb-55">
                                <div class="section__title mb-10">
                                    <h2>Kategoriye Ait Ürünler</h2>
                                </div>

                            </div>
                        </div>
                    </div>
               
                    <div class="row">
                        <div class="col-xl-12">    
                            
                           <div class="product__slider owl-carousel">

                             

                            @foreach (var item in x3.Where(item => item.CategoryId == x2).ToList())   
                           {

                              @*    ürün burda başlıyor*@
       
                                <div class="product__wrapper mb-60">
                                        <div class="product__thumb">
                                            <a asp-controller="Home" asp-action="Details" asp-route-id="@item.ProductId" class="w-img">
                                                <img src="~/img/urunler/@Html.DisplayFor(modelItem => item.ImagePath)" alt="@Html.DisplayFor(modelItem => item.ProductName)">
                                               
                                            </a>
                                          
                                         </div>
                                      <div class="product__content p-relative">
                                            <div class="product__content-inner">
                                                <h4><a asp-controller="Home" asp-action="Details" asp-route-id="@item.ProductId" > @Html.DisplayFor(modelItem => item.ProductName)</a></h4>
                                                <div class="product__price-2 mb-30">
                                                    <span> @Html.DisplayFor(modelItem => item.ProductPrice) TL</span>
                                                 
                                                </div>
                                            </div>
                                            <div class="product__modal-form mb-30">
                            <form asp-action="AddCart">
                                           
                                          
                                          
                                            <div class="pro-quan-area d-sm-flex align-items-center">
                                                <div class="product-quantity-title">
                                                    <label>Adet</label>
                                                </div>
                                                <div class="product-quantity mr-20 mb-20">
                                                    <div class="cart-plus-minus"><input name="adet" type="text" value="1" /></div>
                                                </div>
                                                <div class="pro-cart-btn">
                                                     <input  name="Id" value="@Html.DisplayFor(modelItem => item.ProductId)" type="hidden" >
                                            
                                                 <button type="submit"><i class="add-cart-btn mb-20">+ Sepete Ekle</i></button>
                                                </div>
                                            </div>
                                            
                             </form> 

                                            </div>
                                      </div>
                                 </div>                                      
                                 @*
                            </div>*@ 
                             } 
                             </div> 

                        </div> 
                     </div>                       
                </div>               
           </section>         
    </main>